/*! Backbone.EventStreams - v0.1.0 - 2013-01-31
* https://github.com/pyykkis/Backbone.EventStreams
* Copyright (c) 2013 Jarno Keskikangas <jarno.keskikangas@leonidasoy.fi>; Licensed MIT */
(function(){var e=[].slice;Backbone.EventStream={asEventStream:function(){var t,n,r,i,s,o,u;return t=1<=arguments.length?e.call(arguments,0):[],typeof t[0]=="object"?(o=t.concat([_.identity]),s=o[0],n=o[1],i=o[2]):(u=t.concat([_.identity]),n=u[0],i=u[1]),r=this,new Bacon.EventStream(function(t){var o,u;return o=function(){var n,r;n=1<=arguments.length?e.call(arguments,0):[],r=t(new Bacon.Next(i.apply(null,n)));if(r===Bacon.noMore)return u()},s?(u=function(){return s.stopListening(r,n,o)},s.listenTo(r,n,o)):(u=function(){return r.off(n,o)},r.on(n,o,this)),u})}},_.extend(Backbone,Backbone.EventStream),_.extend(Backbone.Model.prototype,Backbone.EventStream),_.extend(Backbone.Collection.prototype,Backbone.EventStream),_.extend(Backbone.Router.prototype,Backbone.EventStream),_.extend(Backbone.History.prototype,Backbone.EventStream),_.extend(Backbone.View.prototype,Backbone.EventStream)}).call(this);